<!-- ==================== FXML FILE ==================== -->
<!-- File: projekat-klijent/src/main/resources/fxml/studentForm.fxml -->

<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.raflab.studsluzbadesktopclient.controllers.StudentFormController"
            prefWidth="900" prefHeight="700">

    <!-- HEADER -->
    <top>
        <VBox style="-fx-background-color: #34495e; -fx-padding: 15;">
            <Label text="Dodavanje novog studenta"
                   style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;"/>
            <Label fx:id="errorLabel" text=""
                   style="-fx-text-fill: #e74c3c; -fx-font-size: 14px; -fx-font-weight: bold;"
                   wrapText="true"/>
        </VBox>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: white;">
            <VBox spacing="15" style="-fx-padding: 20;">

                <!-- LIČNI PODACI -->
                <TitledPane text="1. Lični podaci" collapsible="false">
                    <GridPane hgap="15" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <!-- Row 0 -->
                        <Label text="Ime: *" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="imeTf" promptText="Unesite ime"
                                   GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Prezime: *" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="prezimeTf" promptText="Unesite prezime"
                                   GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <!-- Row 1 -->
                        <Label text="Srednje ime:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="srednjeImeTf" promptText="Unesite srednje ime"
                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Pol: *" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <HBox spacing="15" GridPane.columnIndex="3" GridPane.rowIndex="1">
                            <RadioButton fx:id="muskiRb" text="Muški">
                                <toggleGroup><ToggleGroup fx:id="polGroup"/></toggleGroup>
                            </RadioButton>
                            <RadioButton fx:id="zenskiRb" text="Ženski" toggleGroup="$polGroup"/>
                        </HBox>

                        <!-- Row 2 -->
                        <Label text="JMBG: *" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="jmbgTf" promptText="13 cifara"
                                   GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="Datum rođenja: *" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                        <DatePicker fx:id="datumRodjenjaDp"
                                    GridPane.columnIndex="3" GridPane.rowIndex="2"/>

                        <!-- Row 3 -->
                        <Label text="Mesto rođenja:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="mestoRodjenjaTf" promptText="Mesto rođenja"
                                   GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <Label text="Država rođenja:" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                        <TextField fx:id="drzavaRodjenjaTf"
                                   GridPane.columnIndex="3" GridPane.rowIndex="3"/>

                        <!-- Row 4 -->
                        <Label text="Državljanstvo:" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextField fx:id="drzavljanstvoTf"
                                   GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                        <Label text="Nacionalnost:" GridPane.columnIndex="2" GridPane.rowIndex="4"/>
                        <TextField fx:id="nacionalnostTf"
                                   GridPane.columnIndex="3" GridPane.rowIndex="4"/>
                    </GridPane>
                </TitledPane>

                <!-- KONTAKT PODACI -->
                <TitledPane text="2. Kontakt podaci" collapsible="false">
                    <GridPane hgap="15" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <!-- Row 0 -->
                        <Label text="Mesto prebivališta:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="mestoPrebivalistaTf"
                                   GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Adresa prebivališta:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="adresaPrebivalistaTf"
                                   GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <!-- Row 1 -->
                        <Label text="Mobilni telefon:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="brojTelefonaMobilniTf" promptText="+381..."
                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Fiksni telefon:" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <TextField fx:id="brojTelefonaFiksniTf"
                                   GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                        <!-- Row 2 -->
                        <Label text="Email fakulteta: *" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="emailFakultetskiTf" promptText="ime.prezime@raf.rs"
                                   GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>

                        <!-- Row 3 -->
                        <Label text="Privatni email:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="emailPrivatniTf" promptText="email@example.com"
                                   GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="3"/>
                    </GridPane>
                </TitledPane>

                <!-- DOKUMENTI -->
                <TitledPane text="3. Dokumenti" collapsible="false">
                    <GridPane hgap="15" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="Broj lične karte:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="brojLicneKarteTf"
                                   GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Izdao:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="licnuKartuIzdaoTf"
                                   GridPane.columnIndex="3" GridPane.rowIndex="0"/>
                    </GridPane>
                </TitledPane>

                <!-- OBRAZOVANJE -->
                <TitledPane text="4. Prethodno obrazovanje" collapsible="false">
                    <GridPane hgap="15" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="Srednja škola:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="srednjaSkolaCb" promptText="Izaberite školu"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.columnSpan="3"
                                  maxWidth="Infinity"/>

                        <Label text="Uspeh (srednja):" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="uspehSrednjaSkolaTf" promptText="npr. 4.50"
                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Uspeh (prijemni):" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <TextField fx:id="uspehPrijemniTf" promptText="npr. 85.5"
                                   GridPane.columnIndex="3" GridPane.rowIndex="1"/>
                    </GridPane>
                </TitledPane>

                <!-- UPIS -->
                <TitledPane text="5. Podaci o upisu" collapsible="false">
                    <GridPane hgap="15" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="Studijski program: *" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="studProgramCb" promptText="Izaberite program"
                                  GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.columnSpan="3"
                                  maxWidth="Infinity"/>

                        <Label text="Godina upisa: *" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="godinaUpisaTf"
                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Način finansiranja: *" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="nacinFinansiranjaCb"
                                  GridPane.columnIndex="3" GridPane.rowIndex="1"
                                  maxWidth="Infinity"/>
                    </GridPane>
                </TitledPane>

            </VBox>
        </ScrollPane>
    </center>

    <!-- BOTTOM BUTTONS -->
    <bottom>
        <HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-padding: 15; -fx-background-color: #ecf0f1;">
            <Button text="Očisti formu" onAction="#handleClear" minWidth="120"/>
            <Button text="Otkaži" onAction="#handleCancel" minWidth="120"/>
            <Button fx:id="saveBtn" text="Sačuvaj studenta" onAction="#handleSave"
                    styleClass="success-button" minWidth="150"/>
        </HBox>
    </bottom>

</BorderPane>